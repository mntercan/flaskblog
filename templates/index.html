{% extends "layout.html" %}
{% block title %}
<title>Anasayfa</title>
{% endblock %}

{% block content %}
<!--Posts-->

  <div class="col-lg-12" style="margin-top: 100px;margin-bottom:100px;">
    <div class="flash">
      {% with errors = get_flashed_messages(category_filter=["error"]) %}
      {% if errors %}
      {% for msg in errors %}
      <div class="alert alert-danger alert-dismissible fade show" role="alert">
          {{msg}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
  
      {% endif %}
      {% endwith %}
      {% with success = get_flashed_messages(category_filter=["success"]) %}
      {% if success %}
      {% for msg in success %}
      <div class="alert alert-success alert-dismissible fade show" role="alert">
          {{msg}}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      {% endfor %}
      {% endif %}
      {% endwith %}
    </div>

    {% for post in posts %}
    <div class="card post-card bg-dark text-white" style="margin-top:50px;">
      <div class="card-title" style="font-size:25px;">
        <img class="rounded-circle" width="125px" height="125px"  src="{{ url_for('static', filename='images/' + post.author.image_file) }}">
        {{post.yazan}}
      </div>
      <div class="card-body">{{post.title}}<br>{{post.content[:150]}}...</div>
      <div class="card-footer"><button class="btn btn-outline-info"><a href="{{url_for('post',post_id=post.id)}}" style="color: white !important; text-decoration:none;">Posta Git</a></button>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}